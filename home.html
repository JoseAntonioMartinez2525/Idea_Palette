<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyectos</title>
    <link rel="stylesheet" href="./css/home.css">
    <script src="https://kit.fontawesome.com/e72e299160.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <section class="tools">
        <div class="logo">ðŸŽ¨ Idea Palette</div>
        
            <div class="row">
               <i class="fa-regular fa-circle-user"></i> 
                <label class="title">Mis Proyectos</label>
            </div>
        
    <div class="menu-plegable">
        <ul>
            <li><a href="work.html">Crear nuevo proyecto</a></li>
            <li><a href="#" onclick="obtenerDatosActualizados()" >Ver Proyectos</a></li>
        </ul>
        
    </div></section>
    </div>
        

    <center>
        <div class="slide-card">
            
        </div>
 <div id="proyectosContainer"></div>   
    </center>

    <script>

    // FunciÃ³n para enviar una solicitud al servidor para obtener los datos actualizados
    function obtenerDatosActualizados() {
        fetch('/obtener-datos')
            .then(response => response.json())
            .then(data => {
                console.log('Datos actualizados:', data);
                // Actualizar la lista de proyectos en el contenedor
                var proyectosContainer = document.getElementById('proyectosContainer');
                proyectosContainer.innerHTML = ''; // Limpiar el contenedor antes de actualizar los proyectos

                // Generar las tarjetas deslizantes
                data.forEach(proyecto => {
                    var tarjeta = document.createElement('div');
                    tarjeta.classList.add('tarjeta'); // Agrega una clase para estilizar la tarjeta

                    // Agrega contenido a la tarjeta (por ejemplo, tÃ­tulo y descripciÃ³n del proyecto)
                    var titulo = document.createElement('h3');
                    titulo.textContent = proyecto.titulo;
                    tarjeta.appendChild(titulo);

                    var descripcion = document.createElement('p');
                    descripcion.textContent = proyecto.descripcion;
                    tarjeta.appendChild(descripcion);

                    // Agrega la tarjeta al contenedor de slide card
                    proyectosContainer.appendChild(tarjeta);
                    
                });
            })
            .catch(error => {
                console.error('Error al obtener los datos:', error);
            });
    }



    </script>
</body>

</html>